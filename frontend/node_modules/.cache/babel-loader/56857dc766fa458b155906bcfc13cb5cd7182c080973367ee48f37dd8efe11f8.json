{"ast":null,"code":"import React,{useEffect,useState}from'react';import Speedometer from'react-d3-speedometer';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const App=()=>{const[scanData,setScanData]=useState(null);const[speedData,setSpeedData]=useState(null);const[gatewayData,setGatewayData]=useState(null);const[errors,setErrors]=useState([]);const[scanning,setScanning]=useState(false);const triggerScan=()=>{setScanning(true);fetch('http://localhost:8181/scan').then(res=>res.json()).then(data=>{setScanData(data);setErrors(prev=>prev.filter(e=>e!=='Scan'));}).catch(err=>{console.error('Scan error:',err);setErrors(prev=>[...prev,'Scan']);}).finally(()=>setScanning(false));};useEffect(()=>{fetch('http://localhost:8181/speedtest').then(res=>res.json()).then(data=>setSpeedData(data)).catch(err=>{console.error('Speedtest error:',err);setErrors(prev=>[...prev,'Speedtest']);});fetch('http://localhost:8181/gateway').then(res=>res.json()).then(data=>setGatewayData(data)).catch(err=>{console.error('Gateway error:',err);setErrors(prev=>[...prev,'Gateway']);});},[]);return/*#__PURE__*/_jsxs(\"div\",{style:{background:'#121212',color:'#fff',fontFamily:'sans-serif',padding:'2rem'},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"NetWatchdog Dashboard\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Network Scan\"}),/*#__PURE__*/_jsx(\"button\",{onClick:triggerScan,disabled:scanning,style:{marginBottom:'1rem'},children:scanning?'Scanning...':'Run Scan'}),scanData===null?errors.includes('Scan')?/*#__PURE__*/_jsx(\"p\",{children:\"Error loading scan data\"}):/*#__PURE__*/_jsx(\"p\",{children:\"No scan run yet\"}):scanData.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"No open ports or devices found.\"}):/*#__PURE__*/_jsxs(\"ul\",{children:[\"(scanData.hosts || []).map((entry, i) => (\",/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:entry.ip}),\": Ports \\u2192 \",entry.open_ports.join(', ')]},i),\"))}\"]}),/*#__PURE__*/_jsx(\"h2\",{children:\"Speed Test\"}),speedData===null?errors.includes('Speedtest')?/*#__PURE__*/_jsx(\"p\",{children:\"Error loading speed test\"}):/*#__PURE__*/_jsx(\"p\",{children:\"Loading speed test...\"}):/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'2rem',flexWrap:'wrap'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Speedometer,{value:speedData.download_mbps,maxValue:1000,currentValueText:\"Download: ${value} Mbps\",segments:10,needleColor:\"#00f0ff\",textColor:\"#fff\",width:250,height:160}),/*#__PURE__*/_jsx(\"ul\",{children:/*#__PURE__*/_jsxs(\"li\",{children:[\"Download: \",speedData.download_mbps,\" Mbps\"]})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Speedometer,{value:speedData.upload_mbps,maxValue:1000,currentValueText:\"Upload: ${value} Mbps\",segments:10,needleColor:\"#00ff7f\",textColor:\"#fff\",width:250,height:160}),/*#__PURE__*/_jsx(\"ul\",{children:/*#__PURE__*/_jsxs(\"li\",{children:[\"Upload: \",speedData.upload_mbps,\" Mbps\"]})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Speedometer,{value:speedData.ping_ms,maxValue:500,currentValueText:\"Ping: ${value} ms\",segments:5,needleColor:\"#ffa500\",textColor:\"#fff\",width:250,height:160}),/*#__PURE__*/_jsx(\"ul\",{children:/*#__PURE__*/_jsxs(\"li\",{children:[\"Ping: \",speedData.ping_ms,\" ms\"]})})]})]}),/*#__PURE__*/_jsx(\"h2\",{children:\"Gateway Info\"}),gatewayData===null?errors.includes('Gateway')?/*#__PURE__*/_jsx(\"p\",{children:\"Error loading gateway info\"}):/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"}):/*#__PURE__*/_jsx(\"pre\",{children:JSON.stringify(gatewayData,null,2)})]});};export default App;","map":{"version":3,"names":["React","useEffect","useState","Speedometer","jsx","_jsx","jsxs","_jsxs","App","scanData","setScanData","speedData","setSpeedData","gatewayData","setGatewayData","errors","setErrors","scanning","setScanning","triggerScan","fetch","then","res","json","data","prev","filter","e","catch","err","console","error","finally","style","background","color","fontFamily","padding","children","onClick","disabled","marginBottom","includes","length","entry","ip","open_ports","join","i","display","gap","flexWrap","value","download_mbps","maxValue","currentValueText","segments","needleColor","textColor","width","height","upload_mbps","ping_ms","JSON","stringify"],"sources":["C:/Users/kenne/Downloads/NetWatchdog/frontend/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport Speedometer from 'react-d3-speedometer';\n\nconst App = () => {\n  const [scanData, setScanData] = useState(null);\n  const [speedData, setSpeedData] = useState(null);\n  const [gatewayData, setGatewayData] = useState(null);\n  const [errors, setErrors] = useState([]);\n  const [scanning, setScanning] = useState(false);\n\n  const triggerScan = () => {\n    setScanning(true);\n    fetch('http://localhost:8181/scan')\n      .then((res) => res.json())\n      .then((data) => {\n        setScanData(data);\n        setErrors((prev) => prev.filter((e) => e !== 'Scan'));\n      })\n      .catch((err) => {\n        console.error('Scan error:', err);\n        setErrors((prev) => [...prev, 'Scan']);\n      })\n      .finally(() => setScanning(false));\n  };\n\n  useEffect(() => {\n    fetch('http://localhost:8181/speedtest')\n      .then((res) => res.json())\n      .then((data) => setSpeedData(data))\n      .catch((err) => {\n        console.error('Speedtest error:', err);\n        setErrors((prev) => [...prev, 'Speedtest']);\n      });\n\n    fetch('http://localhost:8181/gateway')\n      .then((res) => res.json())\n      .then((data) => setGatewayData(data))\n      .catch((err) => {\n        console.error('Gateway error:', err);\n        setErrors((prev) => [...prev, 'Gateway']);\n      });\n  }, []);\n\n  return (\n    <div\n      style={{ background: '#121212', color: '#fff', fontFamily: 'sans-serif', padding: '2rem' }}\n    >\n      <h1>NetWatchdog Dashboard</h1>\n\n      <h2>Network Scan</h2>\n      <button onClick={triggerScan} disabled={scanning} style={{ marginBottom: '1rem' }}>\n        {scanning ? 'Scanning...' : 'Run Scan'}\n      </button>\n      {scanData === null ? (\n        errors.includes('Scan') ? (\n          <p>Error loading scan data</p>\n        ) : (\n          <p>No scan run yet</p>\n        )\n      ) : scanData.length === 0 ? (\n        <p>No open ports or devices found.</p>\n      ) : (\n        <ul>\n          {/* (scanData.hosts || []).map((entry, i) => ( */}\n          (scanData.hosts || []).map((entry, i) => (\n          <li key={i}>\n            <strong>{entry.ip}</strong>: Ports â†’ {entry.open_ports.join(', ')}\n          </li>\n          ))}\n        </ul>\n      )}\n\n      <h2>Speed Test</h2>\n      {speedData === null ? (\n        errors.includes('Speedtest') ? (\n          <p>Error loading speed test</p>\n        ) : (\n          <p>Loading speed test...</p>\n        )\n      ) : (\n        <div style={{ display: 'flex', gap: '2rem', flexWrap: 'wrap' }}>\n          <div>\n            <Speedometer\n              value={speedData.download_mbps}\n              maxValue={1000}\n              currentValueText='Download: ${value} Mbps'\n              segments={10}\n              needleColor='#00f0ff'\n              textColor='#fff'\n              width={250}\n              height={160}\n            />\n            <ul>\n              <li>Download: {speedData.download_mbps} Mbps</li>\n            </ul>\n          </div>\n          <div>\n            <Speedometer\n              value={speedData.upload_mbps}\n              maxValue={1000}\n              currentValueText='Upload: ${value} Mbps'\n              segments={10}\n              needleColor='#00ff7f'\n              textColor='#fff'\n              width={250}\n              height={160}\n            />\n            <ul>\n              <li>Upload: {speedData.upload_mbps} Mbps</li>\n            </ul>\n          </div>\n          <div>\n            <Speedometer\n              value={speedData.ping_ms}\n              maxValue={500}\n              currentValueText='Ping: ${value} ms'\n              segments={5}\n              needleColor='#ffa500'\n              textColor='#fff'\n              width={250}\n              height={160}\n            />\n            <ul>\n              <li>Ping: {speedData.ping_ms} ms</li>\n            </ul>\n          </div>\n        </div>\n      )}\n\n      <h2>Gateway Info</h2>\n      {gatewayData === null ? (\n        errors.includes('Gateway') ? (\n          <p>Error loading gateway info</p>\n        ) : (\n          <p>Loading...</p>\n        )\n      ) : (\n        <pre>{JSON.stringify(gatewayData, null, 2)}</pre>\n      )}\n    </div>\n  );\n};\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}