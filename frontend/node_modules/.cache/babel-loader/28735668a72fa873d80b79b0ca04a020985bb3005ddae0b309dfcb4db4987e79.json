{"ast":null,"code":"import React,{useEffect,useState}from'react';import{Chart,ArcElement,Tooltip,Legend}from'chart.js';import{Doughnut}from'react-chartjs-2';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";Chart.register(ArcElement,Tooltip,Legend);const App=()=>{const[scanData,setScanData]=useState(null);const[speedData,setSpeedData]=useState(null);const[gatewayData,setGatewayData]=useState(null);const[errors,setErrors]=useState([]);const[loadingScan,setLoadingScan]=useState(false);const fetchScan=()=>{setLoadingScan(true);fetch('http://localhost:8181/scan').then(res=>res.json()).then(data=>{setScanData(data);setLoadingScan(false);}).catch(err=>{console.error('Scan error:',err);setErrors(prev=>[...prev,'Scan']);setLoadingScan(false);});};const fetchSpeed=()=>{fetch('http://localhost:8181/speedtest').then(res=>res.json()).then(data=>setSpeedData(data)).catch(err=>{console.error('Speedtest error:',err);setErrors(prev=>[...prev,'Speedtest']);});};const fetchGateway=()=>{fetch('http://localhost:8181/gateway').then(res=>res.json()).then(data=>setGatewayData(data)).catch(err=>{console.error('Gateway error:',err);setErrors(prev=>[...prev,'Gateway']);});};useEffect(()=>{fetchSpeed();fetchGateway();},[]);const gaugeOptions={cutout:'75%',responsive:false,plugins:{legend:{display:false},tooltip:{enabled:false}}};const makeGauge=(value,label,max)=>({labels:[label,''],datasets:[{data:[value,Math.max(0,max-value)],backgroundColor:['#4caf50','#555'],borderWidth:0}]});return/*#__PURE__*/_jsxs(\"div\",{style:{background:'#121212',color:'#fff',fontFamily:'sans-serif',padding:'2rem'},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"NetWatchdog Dashboard\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Network Scan\"}),/*#__PURE__*/_jsx(\"button\",{onClick:fetchScan,disabled:loadingScan,style:{marginBottom:'1rem'},children:loadingScan?'Scanning...':'Scan Network'}),scanData===null?errors.includes('Scan')?/*#__PURE__*/_jsx(\"p\",{children:\"Error loading scan data\"}):/*#__PURE__*/_jsx(\"p\",{children:\"No scan run yet\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Total Hosts Scanned: \",scanData.host_count]}),scanData.results.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"No open ports or devices found.\"}):/*#__PURE__*/_jsx(\"ul\",{children:scanData.results.map((entry,i)=>/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:entry.ip}),\": Ports \\u2192 \",entry.open_ports.join(', ')]},i))})]}),/*#__PURE__*/_jsx(\"h2\",{children:\"Speed Test\"}),speedData===null?errors.includes('Speedtest')?/*#__PURE__*/_jsx(\"p\",{children:\"Error loading speed test\"}):/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"}):/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'2rem',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Doughnut,{data:makeGauge(speedData.download_mbps,'Download',1000),options:gaugeOptions,width:150,height:150}),/*#__PURE__*/_jsxs(\"p\",{style:{textAlign:'center'},children:[speedData.download_mbps,\" Mbps\"]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Doughnut,{data:makeGauge(speedData.upload_mbps,'Upload',1000),options:gaugeOptions,width:150,height:150}),/*#__PURE__*/_jsxs(\"p\",{style:{textAlign:'center'},children:[speedData.upload_mbps,\" Mbps\"]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Doughnut,{data:makeGauge(speedData.ping_ms,'Ping',300),options:gaugeOptions,width:150,height:150}),/*#__PURE__*/_jsxs(\"p\",{style:{textAlign:'center'},children:[speedData.ping_ms,\" ms\"]})]})]}),/*#__PURE__*/_jsx(\"h2\",{children:\"Gateway Info\"}),gatewayData===null?errors.includes('Gateway')?/*#__PURE__*/_jsx(\"p\",{children:\"Error loading gateway info\"}):/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"}):/*#__PURE__*/_jsx(\"pre\",{children:JSON.stringify(gatewayData,null,2)})]});};export default App;","map":{"version":3,"names":["React","useEffect","useState","Chart","ArcElement","Tooltip","Legend","Doughnut","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","register","App","scanData","setScanData","speedData","setSpeedData","gatewayData","setGatewayData","errors","setErrors","loadingScan","setLoadingScan","fetchScan","fetch","then","res","json","data","catch","err","console","error","prev","fetchSpeed","fetchGateway","gaugeOptions","cutout","responsive","plugins","legend","display","tooltip","enabled","makeGauge","value","label","max","labels","datasets","Math","backgroundColor","borderWidth","style","background","color","fontFamily","padding","children","onClick","disabled","marginBottom","includes","host_count","results","length","map","entry","i","ip","open_ports","join","gap","alignItems","download_mbps","options","width","height","textAlign","upload_mbps","ping_ms","JSON","stringify"],"sources":["C:/Users/kenne/Downloads/NetWatchdog/frontend/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Chart, ArcElement, Tooltip, Legend } from 'chart.js';\nimport { Doughnut } from 'react-chartjs-2';\n\nChart.register(ArcElement, Tooltip, Legend);\n\nconst App = () => {\n  const [scanData, setScanData] = useState(null);\n  const [speedData, setSpeedData] = useState(null);\n  const [gatewayData, setGatewayData] = useState(null);\n  const [errors, setErrors] = useState([]);\n  const [loadingScan, setLoadingScan] = useState(false);\n\n  const fetchScan = () => {\n    setLoadingScan(true);\n    fetch('http://localhost:8181/scan')\n      .then((res) => res.json())\n      .then((data) => {\n        setScanData(data);\n        setLoadingScan(false);\n      })\n      .catch((err) => {\n        console.error('Scan error:', err);\n        setErrors((prev) => [...prev, 'Scan']);\n        setLoadingScan(false);\n      });\n  };\n\n  const fetchSpeed = () => {\n    fetch('http://localhost:8181/speedtest')\n      .then((res) => res.json())\n      .then((data) => setSpeedData(data))\n      .catch((err) => {\n        console.error('Speedtest error:', err);\n        setErrors((prev) => [...prev, 'Speedtest']);\n      });\n  };\n\n  const fetchGateway = () => {\n    fetch('http://localhost:8181/gateway')\n      .then((res) => res.json())\n      .then((data) => setGatewayData(data))\n      .catch((err) => {\n        console.error('Gateway error:', err);\n        setErrors((prev) => [...prev, 'Gateway']);\n      });\n  };\n\n  useEffect(() => {\n    fetchSpeed();\n    fetchGateway();\n  }, []);\n\n  const gaugeOptions = {\n    cutout: '75%',\n    responsive: false,\n    plugins: {\n      legend: { display: false },\n      tooltip: { enabled: false },\n    },\n  };\n\n  const makeGauge = (value, label, max) => ({\n    labels: [label, ''],\n    datasets: [\n      {\n        data: [value, Math.max(0, max - value)],\n        backgroundColor: ['#4caf50', '#555'],\n        borderWidth: 0,\n      },\n    ],\n  });\n\n  return (\n    <div\n      style={{ background: '#121212', color: '#fff', fontFamily: 'sans-serif', padding: '2rem' }}\n    >\n      <h1>NetWatchdog Dashboard</h1>\n\n      <h2>Network Scan</h2>\n      <button onClick={fetchScan} disabled={loadingScan} style={{ marginBottom: '1rem' }}>\n        {loadingScan ? 'Scanning...' : 'Scan Network'}\n      </button>\n\n      {scanData === null ? (\n        errors.includes('Scan') ? (\n          <p>Error loading scan data</p>\n        ) : (\n          <p>No scan run yet</p>\n        )\n      ) : (\n        <>\n          <p>Total Hosts Scanned: {scanData.host_count}</p>\n          {scanData.results.length === 0 ? (\n            <p>No open ports or devices found.</p>\n          ) : (\n            <ul>\n              {scanData.results.map((entry, i) => (\n                <li key={i}>\n                  <strong>{entry.ip}</strong>: Ports â†’ {entry.open_ports.join(', ')}\n                </li>\n              ))}\n            </ul>\n          )}\n        </>\n      )}\n\n      <h2>Speed Test</h2>\n      {speedData === null ? (\n        errors.includes('Speedtest') ? (\n          <p>Error loading speed test</p>\n        ) : (\n          <p>Loading...</p>\n        )\n      ) : (\n        <div style={{ display: 'flex', gap: '2rem', alignItems: 'center' }}>\n          <div>\n            <Doughnut\n              data={makeGauge(speedData.download_mbps, 'Download', 1000)}\n              options={gaugeOptions}\n              width={150}\n              height={150}\n            />\n            <p style={{ textAlign: 'center' }}>{speedData.download_mbps} Mbps</p>\n          </div>\n          <div>\n            <Doughnut\n              data={makeGauge(speedData.upload_mbps, 'Upload', 1000)}\n              options={gaugeOptions}\n              width={150}\n              height={150}\n            />\n            <p style={{ textAlign: 'center' }}>{speedData.upload_mbps} Mbps</p>\n          </div>\n          <div>\n            <Doughnut\n              data={makeGauge(speedData.ping_ms, 'Ping', 300)}\n              options={gaugeOptions}\n              width={150}\n              height={150}\n            />\n            <p style={{ textAlign: 'center' }}>{speedData.ping_ms} ms</p>\n          </div>\n        </div>\n      )}\n\n      <h2>Gateway Info</h2>\n      {gatewayData === null ? (\n        errors.includes('Gateway') ? (\n          <p>Error loading gateway info</p>\n        ) : (\n          <p>Loading...</p>\n        )\n      ) : (\n        <pre>{JSON.stringify(gatewayData, null, 2)}</pre>\n      )}\n    </div>\n  );\n};\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}