{"ast":null,"code":"import React,{useEffect,useState}from'react';import Speedometer from'react-d3-speedometer';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const App=()=>{const[scanData,setScanData]=useState(null);const[speedData,setSpeedData]=useState(null);const[gatewayData,setGatewayData]=useState(null);const[errors,setErrors]=useState([]);const[scanning,setScanning]=useState(false);const fetchScan=()=>{setScanning(true);fetch('http://localhost:8181/scan').then(res=>res.json()).then(data=>{setScanData(data);setErrors(prev=>prev.filter(e=>e!=='Scan'));}).catch(err=>{console.error('Scan error:',err);setErrors(prev=>[...new Set([...prev,'Scan'])]);}).finally(()=>setScanning(false));};useEffect(()=>{fetch('http://localhost:8181/speedtest').then(res=>res.json()).then(data=>setSpeedData(data)).catch(err=>{console.error('Speedtest error:',err);setErrors(prev=>[...prev,'Speedtest']);});fetch('http://localhost:8181/gateway').then(res=>res.json()).then(data=>setGatewayData(data)).catch(err=>{console.error('Gateway error:',err);setErrors(prev=>[...prev,'Gateway']);});},[]);return/*#__PURE__*/_jsxs(\"div\",{style:{background:'#121212',color:'#fff',fontFamily:'sans-serif',padding:'2rem'},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"NetWatchdog Dashboard\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Network Scan\"}),scanData===null?errors.includes('Scan')?/*#__PURE__*/_jsx(\"p\",{children:\"Error loading scan data\"}):/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"}):Array.isArray(scanData===null||scanData===void 0?void 0:scanData.hosts)?scanData.hosts.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"No hosts found.\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Found \",scanData.hosts.length,\" hosts\"]}),/*#__PURE__*/_jsx(\"ul\",{children:scanData.hosts.map((entry,i)=>/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:entry.ip}),\": Ports \\u2192 \",entry.open_ports.join(', ')]},i))})]}):/*#__PURE__*/_jsx(\"p\",{children:\"Invalid scan data format\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Speed Test\"}),speedData===null?errors.includes('Speedtest')?/*#__PURE__*/_jsx(\"p\",{children:\"Error loading speed test\"}):/*#__PURE__*/_jsx(\"p\",{children:\"Loading speed test...\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'2rem',flexWrap:'wrap'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Speedometer,{value:speedData.download_mbps,maxValue:1000,needleColor:\"white\",startColor:\"green\",endColor:\"red\",textColor:\"#fff\",height:180,labelFontSize:\"12px\",ringWidth:30,segments:10}),/*#__PURE__*/_jsxs(\"p\",{style:{textAlign:'center'},children:[\"Download: \",speedData.download_mbps,\" Mbps\"]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Speedometer,{value:speedData.upload_mbps,maxValue:1000,needleColor:\"white\",startColor:\"blue\",endColor:\"red\",textColor:\"#fff\",height:180,labelFontSize:\"12px\",ringWidth:30,segments:10}),/*#__PURE__*/_jsxs(\"p\",{style:{textAlign:'center'},children:[\"Upload: \",speedData.upload_mbps,\" Mbps\"]})]})]}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsxs(\"li\",{children:[\"Download: \",speedData.download_mbps,\" Mbps\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"Upload: \",speedData.upload_mbps,\" Mbps\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"Ping: \",speedData.ping_ms,\" ms\"]})]})]}),/*#__PURE__*/_jsx(\"h2\",{children:\"Gateway Info\"}),gatewayData===null?errors.includes('Gateway')?/*#__PURE__*/_jsx(\"p\",{children:\"Error loading gateway info\"}):/*#__PURE__*/_jsx(\"p\",{children:\"Loading gateway...\"}):/*#__PURE__*/_jsx(\"pre\",{children:JSON.stringify(gatewayData,null,2)})]});};export default App;","map":{"version":3,"names":["React","useEffect","useState","Speedometer","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","App","scanData","setScanData","speedData","setSpeedData","gatewayData","setGatewayData","errors","setErrors","scanning","setScanning","fetchScan","fetch","then","res","json","data","prev","filter","e","catch","err","console","error","Set","finally","style","background","color","fontFamily","padding","children","includes","Array","isArray","hosts","length","map","entry","i","ip","open_ports","join","display","gap","flexWrap","value","download_mbps","maxValue","needleColor","startColor","endColor","textColor","height","labelFontSize","ringWidth","segments","textAlign","upload_mbps","ping_ms","JSON","stringify"],"sources":["C:/Users/kenne/Downloads/NetWatchdog/frontend/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport Speedometer from 'react-d3-speedometer';\n\nconst App = () => {\n  const [scanData, setScanData] = useState(null);\n  const [speedData, setSpeedData] = useState(null);\n  const [gatewayData, setGatewayData] = useState(null);\n  const [errors, setErrors] = useState([]);\n  const [scanning, setScanning] = useState(false);\n\n  const fetchScan = () => {\n    setScanning(true);\n    fetch('http://localhost:8181/scan')\n      .then((res) => res.json())\n      .then((data) => {\n        setScanData(data);\n        setErrors((prev) => prev.filter((e) => e !== 'Scan'));\n      })\n      .catch((err) => {\n        console.error('Scan error:', err);\n        setErrors((prev) => [...new Set([...prev, 'Scan'])]);\n      })\n      .finally(() => setScanning(false));\n  };\n\n  useEffect(() => {\n    fetch('http://localhost:8181/speedtest')\n      .then((res) => res.json())\n      .then((data) => setSpeedData(data))\n      .catch((err) => {\n        console.error('Speedtest error:', err);\n        setErrors((prev) => [...prev, 'Speedtest']);\n      });\n\n    fetch('http://localhost:8181/gateway')\n      .then((res) => res.json())\n      .then((data) => setGatewayData(data))\n      .catch((err) => {\n        console.error('Gateway error:', err);\n        setErrors((prev) => [...prev, 'Gateway']);\n      });\n  }, []);\n\n  return (\n    <div\n      style={{ background: '#121212', color: '#fff', fontFamily: 'sans-serif', padding: '2rem' }}\n    >\n      <h1>NetWatchdog Dashboard</h1>\n\n      <h2>Network Scan</h2>\n      {scanData === null ? (\n        errors.includes('Scan') ? (\n          <p>Error loading scan data</p>\n        ) : (\n          <p>Loading...</p>\n        )\n      ) : Array.isArray(scanData?.hosts) ? (\n        scanData.hosts.length === 0 ? (\n          <p>No hosts found.</p>\n        ) : (\n          <>\n            <p>Found {scanData.hosts.length} hosts</p>\n            <ul>\n              {scanData.hosts.map((entry, i) => (\n                <li key={i}>\n                  <strong>{entry.ip}</strong>: Ports â†’ {entry.open_ports.join(', ')}\n                </li>\n              ))}\n            </ul>\n          </>\n        )\n      ) : (\n        <p>Invalid scan data format</p>\n      )}\n\n      <h2>Speed Test</h2>\n      {speedData === null ? (\n        errors.includes('Speedtest') ? (\n          <p>Error loading speed test</p>\n        ) : (\n          <p>Loading speed test...</p>\n        )\n      ) : (\n        <>\n          <div style={{ display: 'flex', gap: '2rem', flexWrap: 'wrap' }}>\n            <div>\n              <Speedometer\n                value={speedData.download_mbps}\n                maxValue={1000}\n                needleColor='white'\n                startColor='green'\n                endColor='red'\n                textColor='#fff'\n                height={180}\n                labelFontSize='12px'\n                ringWidth={30}\n                segments={10}\n              />\n              <p style={{ textAlign: 'center' }}>Download: {speedData.download_mbps} Mbps</p>\n            </div>\n            <div>\n              <Speedometer\n                value={speedData.upload_mbps}\n                maxValue={1000}\n                needleColor='white'\n                startColor='blue'\n                endColor='red'\n                textColor='#fff'\n                height={180}\n                labelFontSize='12px'\n                ringWidth={30}\n                segments={10}\n              />\n              <p style={{ textAlign: 'center' }}>Upload: {speedData.upload_mbps} Mbps</p>\n            </div>\n          </div>\n          <ul>\n            <li>Download: {speedData.download_mbps} Mbps</li>\n            <li>Upload: {speedData.upload_mbps} Mbps</li>\n            <li>Ping: {speedData.ping_ms} ms</li>\n          </ul>\n        </>\n      )}\n\n      <h2>Gateway Info</h2>\n      {gatewayData === null ? (\n        errors.includes('Gateway') ? (\n          <p>Error loading gateway info</p>\n        ) : (\n          <p>Loading gateway...</p>\n        )\n      ) : (\n        <pre>{JSON.stringify(gatewayData, null, 2)}</pre>\n      )}\n    </div>\n  );\n};\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}