{"ast":null,"code":"import React,{useEffect,useState}from'react';import Speedometer from'react-d3-speedometer';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const App=()=>{const[scanData,setScanData]=useState(null);const[speedData,setSpeedData]=useState(null);const[gatewayData,setGatewayData]=useState(null);const[errors,setErrors]=useState([]);const[scanning,setScanning]=useState(false);const fetchScan=()=>{setScanning(true);fetch('http://localhost:8181/scan').then(res=>res.json()).then(data=>{setScanData(data);setErrors(prev=>prev.filter(e=>e!=='Scan'));}).catch(err=>{console.error('Scan error:',err);setErrors(prev=>[...new Set([...prev,'Scan'])]);}).finally(()=>setScanning(false));};useEffect(()=>{fetch('http://localhost:8181/speedtest').then(res=>res.json()).then(data=>setSpeedData(data)).catch(err=>{console.error('Speedtest error:',err);setErrors(prev=>[...prev,'Speedtest']);});fetch('http://localhost:8181/gateway').then(res=>res.json()).then(data=>setGatewayData(data)).catch(err=>{console.error('Gateway error:',err);setErrors(prev=>[...prev,'Gateway']);});},[]);return/*#__PURE__*/_jsxs(\"div\",{style:{background:'#121212',color:'#fff',fontFamily:'sans-serif',padding:'2rem'},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"NetWatchdog Dashboard\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Network Scan\"}),scanData===null?errors.includes('Scan')?/*#__PURE__*/_jsx(\"p\",{children:\"Error loading scan data\"}):/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"}):Array.isArray(scanData===null||scanData===void 0?void 0:scanData.hosts)?scanData.hosts.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"No hosts found.\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Found \",scanData.hosts.length,\" hosts\"]}),/*#__PURE__*/_jsx(\"ul\",{children:scanData.hosts.map((entry,i)=>/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:entry.ip}),\": Ports \\u2192 \",entry.open_ports.join(', ')]},i))})]}):/*#__PURE__*/_jsx(\"p\",{children:\"Invalid scan data format\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Speed Test\"}),speedData===null?errors.includes('Speedtest')?/*#__PURE__*/_jsx(\"p\",{children:\"Error loading speed test\"}):/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"}):/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'2rem'},children:[/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center'},children:/*#__PURE__*/_jsx(Speedometer,{value:speedData.download_mbps,minValue:0,maxValue:1000,segments:5,height:180,width:300,needleColor:\"#ffffff\",startColor:\"#ff0000\",endColor:\"#00ff00\",currentValueText:\"Download: ${value} Mbps\",valueTextFontSize:\"20px\",ringWidth:20,needleTransitionDuration:1000,needleTransition:\"easeElastic\"})}),/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center'},children:/*#__PURE__*/_jsx(Speedometer,{value:speedData.upload_mbps,minValue:0,maxValue:1000,segments:5,height:180,width:300,needleColor:\"#ffffff\",startColor:\"#ff0000\",endColor:\"#00ff00\",currentValueText:\"Upload: ${value} Mbps\",valueTextFontSize:\"20px\",ringWidth:20,needleTransitionDuration:1000,needleTransition:\"easeElastic\"})})]}),/*#__PURE__*/_jsx(\"h2\",{children:\"Gateway Info\"}),gatewayData===null?errors.includes('Gateway')?/*#__PURE__*/_jsx(\"p\",{children:\"Error loading gateway info\"}):/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"}):/*#__PURE__*/_jsxs(\"div\",{style:{background:'#1e1e1e',padding:'1rem',borderRadius:'8px',width:'fit-content'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Gateway IP:\"}),\" \",gatewayData.gateway_ip]})]});};export default App;","map":{"version":3,"names":["React","useEffect","useState","Speedometer","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","App","scanData","setScanData","speedData","setSpeedData","gatewayData","setGatewayData","errors","setErrors","scanning","setScanning","fetchScan","fetch","then","res","json","data","prev","filter","e","catch","err","console","error","Set","finally","style","background","color","fontFamily","padding","children","includes","Array","isArray","hosts","length","map","entry","i","ip","open_ports","join","display","gap","textAlign","value","download_mbps","minValue","maxValue","segments","height","width","needleColor","startColor","endColor","currentValueText","valueTextFontSize","ringWidth","needleTransitionDuration","needleTransition","upload_mbps","borderRadius","gateway_ip"],"sources":["C:/Users/kenne/Downloads/NetWatchdog/frontend/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport Speedometer from 'react-d3-speedometer';\n\nconst App = () => {\n  const [scanData, setScanData] = useState(null);\n  const [speedData, setSpeedData] = useState(null);\n  const [gatewayData, setGatewayData] = useState(null);\n  const [errors, setErrors] = useState([]);\n  const [scanning, setScanning] = useState(false);\n\n  const fetchScan = () => {\n    setScanning(true);\n    fetch('http://localhost:8181/scan')\n      .then((res) => res.json())\n      .then((data) => {\n        setScanData(data);\n        setErrors((prev) => prev.filter((e) => e !== 'Scan'));\n      })\n      .catch((err) => {\n        console.error('Scan error:', err);\n        setErrors((prev) => [...new Set([...prev, 'Scan'])]);\n      })\n      .finally(() => setScanning(false));\n  };\n\n  useEffect(() => {\n    fetch('http://localhost:8181/speedtest')\n      .then((res) => res.json())\n      .then((data) => setSpeedData(data))\n      .catch((err) => {\n        console.error('Speedtest error:', err);\n        setErrors((prev) => [...prev, 'Speedtest']);\n      });\n\n    fetch('http://localhost:8181/gateway')\n      .then((res) => res.json())\n      .then((data) => setGatewayData(data))\n      .catch((err) => {\n        console.error('Gateway error:', err);\n        setErrors((prev) => [...prev, 'Gateway']);\n      });\n  }, []);\n\n  return (\n    <div\n      style={{ background: '#121212', color: '#fff', fontFamily: 'sans-serif', padding: '2rem' }}\n    >\n      <h1>NetWatchdog Dashboard</h1>\n\n      <h2>Network Scan</h2>\n      {scanData === null ? (\n        errors.includes('Scan') ? (\n          <p>Error loading scan data</p>\n        ) : (\n          <p>Loading...</p>\n        )\n      ) : Array.isArray(scanData?.hosts) ? (\n        scanData.hosts.length === 0 ? (\n          <p>No hosts found.</p>\n        ) : (\n          <>\n            <p>Found {scanData.hosts.length} hosts</p>\n            <ul>\n              {scanData.hosts.map((entry, i) => (\n                <li key={i}>\n                  <strong>{entry.ip}</strong>: Ports â†’ {entry.open_ports.join(', ')}\n                </li>\n              ))}\n            </ul>\n          </>\n        )\n      ) : (\n        <p>Invalid scan data format</p>\n      )}\n\n      <h2>Speed Test</h2>\n      {speedData === null ? (\n        errors.includes('Speedtest') ? (\n          <p>Error loading speed test</p>\n        ) : (\n          <p>Loading...</p>\n        )\n      ) : (\n        <div style={{ display: 'flex', gap: '2rem' }}>\n          <div style={{ textAlign: 'center' }}>\n            <Speedometer\n              value={speedData.download_mbps}\n              minValue={0}\n              maxValue={1000}\n              segments={5}\n              height={180}\n              width={300}\n              needleColor='#ffffff'\n              startColor='#ff0000'\n              endColor='#00ff00'\n              currentValueText='Download: ${value} Mbps'\n              valueTextFontSize='20px'\n              ringWidth={20}\n              needleTransitionDuration={1000}\n              needleTransition='easeElastic'\n            />\n          </div>\n          <div style={{ textAlign: 'center' }}>\n            <Speedometer\n              value={speedData.upload_mbps}\n              minValue={0}\n              maxValue={1000}\n              segments={5}\n              height={180}\n              width={300}\n              needleColor='#ffffff'\n              startColor='#ff0000'\n              endColor='#00ff00'\n              currentValueText='Upload: ${value} Mbps'\n              valueTextFontSize='20px'\n              ringWidth={20}\n              needleTransitionDuration={1000}\n              needleTransition='easeElastic'\n            />\n          </div>\n        </div>\n      )}\n\n      <h2>Gateway Info</h2>\n      {gatewayData === null ? (\n        errors.includes('Gateway') ? (\n          <p>Error loading gateway info</p>\n        ) : (\n          <p>Loading...</p>\n        )\n      ) : (\n        <div\n          style={{\n            background: '#1e1e1e',\n            padding: '1rem',\n            borderRadius: '8px',\n            width: 'fit-content',\n          }}\n        >\n          <strong>Gateway IP:</strong> {gatewayData.gateway_ip}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}